
## 训练阶段
在nerf训练中，其pipeline可以这样描述
1.取一张图片或者某几张图片上，总共N个点，一般为1024个点（这些点位于像素平面）
2.通过坐标变换可以得到这些点在相机平面上的位置，一般得到的是$(\frac{X}{Z},\frac{Y}{Z},1)$

3.变换后的点的坐标其实就是以相机光心为中心指向像素位置的向量，即一个光线向量$\mathbf d$，共N条光线
(注意，这里得到的向量是从每个图片所对应的相机的位姿出发的，即相对于相机坐标系的，还需要转换到世界坐标系)
4.然后将上述的相机坐标系中的光线向量$\mathbf d$通过相机的位姿转换到世界坐标系，从而得到了在世界坐标系中的光线向量$\mathbf d$，同时，这些相机所在的位置，就是光线的起点$\mathbf o$

有了起点$\mathbf o$和方向$\mathbf d$，那么就可以在这条光线上采样，在coarse网络中，采样64个点，分别将这些点的$(x,y,z)$进行embedding之后输入到网络中得到该位置的$\sigma$，然后沿着每条光线进行体渲染，然后计算loss即可

## 测试阶段
要算某个相机位姿下的图像，则需要首先计算出这个相机位姿下，其像素点对应的所有光线向量，即H×W个光线向量，原点为相机位置 

